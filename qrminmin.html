<html><head><meta charset='UTF-8'><script src='https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js'></script></head><body><canvas id='c'></canvas><script>navigator.mediaDevices.getUserMedia({video:1}).then(s=>{let v=document.createElement('video'),c=document.getElementById('c'),x=c.getContext('2d'),f=[],h=[],e=0,n='';v.srcObject=s;v.play();(function loop(){if(v.readyState>2){c.width=v.videoWidth;c.height=v.videoHeight;x.drawImage(v,0,0);let d=jsQR(x.getImageData(0,0,c.width,c.height).data,c.width,c.height);if(d){try{let j=JSON.parse(d.data);if(j.marker=='###QRSTART###'){e=j.frames;n=j.file;f=Array(e);h=Array(e).fill(0);}else if(j.marker=='#DATA#'){let p=j.current-1;if(!h[p]){f[p]=j.contents;h[p]=1;}}if(h.length&&h.every(v=>v)){let r=atob(f.join('')),u=new Uint8Array(r.length);for(let i=0;i<r.length;i++)u[i]=r.charCodeAt(i);let b=new Blob([u]),a=document.createElement('a');a.href=URL.createObjectURL(b);a.download=n;a.click();s.getTracks().forEach(t=>t.stop());}}catch(e){}}}requestAnimationFrame(loop);})()});</script></body></html>